---
title : '使用Oh My Posh美化Windows终端'
date : 2024-10-13T13:20:47+08:00
tags : ['笔记']
author : "5h9igzqanx"
description : '使用Oh My Posh给你的Windows终端添点颜色'
draft : false
---

# 使用Oh My Posh美化Windows终端

## 概述

不知道你们使用Windows终端的时候有没有羡慕那些使用MacOS或者Linux终端的朋友屏幕上花花绿绿的样式，即使是巨硬推出了改良版终端。  
但是，现在你们可以不用羡慕了，因为Windows终端也可以被美化了，那就是——Oh My Posh。  
话不多说，上教程。  

## 教程-安装并配置Oh My Posh

### 材料准备

1. 一台搭载Windows系统的电脑
2. the Internet
3. [Windows Terminal](https://learn.microsoft.com/zh-cn/windows/terminal/)软件（如果没有请看下面）
4. Oh My Posh软件（如果没有请看下面）
5. Clink软件（如果没有请看下面）

### 安装Oh My Posh

首先，你需要确保你安装了新版Windows终端，如果没有你可以去Microsoft Store搜索**Terminal**并下载。  
其次，打开[Oh My Posh的Github仓库](https://github.com/jandedobbeleer/oh-my-posh)下载相应版本的安装包。  
下载好之后，打开安装包，根据提示安装。

```ZX-WARNING
安装路径尽量只有英文
```

安装完成之后，可以打开终端，输入`oh-my-posh`查看是否安装完成，如果提示其不是一个命令，你需要手动将Oh My Posh的目录添加进环境变量。
你可以选择在PowerShell中输入

```shell
$env:Path += ";C:\你安装OhMyPosh的路径\...\oh-my-posh\bin"
```

来添加。

### 安装Clink

在cmd中，Oh My Posh需要Clink来辅助实现美化，所以你也得下载Clink。  
首先，打开[Clink的Github仓库](https://github.com/chrisant996/clink)下载相应版本的安装包。  
下载好之后，打开安装包，根据提示安装。  
安装完成之后，可以打开终端，输入`clink info`查看是否安装完成。

### 安装字体

在Oh My Posh中，显示一些特殊符号需要使用另一种叫做“Nerd”的字体，下面讲解如何安装和使用。  
打开[Nerd官网](https://www.nerdfonts.com/)，点击Downloads，在其中相中一个其与另一种等宽字体结合的字形包，点击Download。  

```ZX-tip
官方文档中建议使用MesloLG Nerd Font这款字体。
```

下载好后解压，打开目录，全选，安装。  
打开终端，点击标签栏上的倒三角，选择设置。
在“配置文件”栏选择“默认值”，在右边点击“外观”，然后在“字体”栏选择带有“Nerd”字样的字体，保存就行了。

### 在Clink中配置Oh My Posh并且设置主题

安装完成之后，打开Clink的软件目录，新建`oh-my-posh.lua`文件，在其中输入

```lua
load(io.popen('oh-my-posh init cmd'):read("*a"))()
```

使其支持cmd的美化。  
此时打开cmd，可以看到终端已经被美化。  
如果你就待见他的默认主题，那你就没事了；但是如果你还想再进一步美化，那么接着往下看。  
首先，你需要前往[Oh My Posh的主题页面](https://www.ohmyposh.dev/docs/themes)中相中一个主题，点击跳转到相应的文件的Github页面，点击右上角的Download raw file下载其对应的json文件，然后记住他的路径。  
然后，打开你刚刚在Clink目录创建的`oh-my-posh.lua`文件，把内容改成

```lua
load(io.popen('oh-my-posh init cmd --config 你的主题文件的目录'):read("*a"))()
```

就好了。

```ZX-WARNING
在路径中不要单独出现“\”，使用“\\”或“/”代替单独出现的“\”
```

最后，打开终端，查看你的主题是否被加载，如果好看，那么恭喜你，大功告成！  

## 卷末语

本期教程到此结束，希望你能通过这里的教程，把你的Windows终端也变得更好看，再见。

## 参考文献

> [《Change your prompt》来自Oh My Posh官方文档](https://www.ohmyposh.dev/docs/installation/prompt)
> [《【随笔】oh-my-posh（Windows power shell为例）》来自CSDN博客](https://blog.csdn.net/weixin_43764974/article/details/137018059)
> [《开源免费软件分享0031——oh-my-posh+clink》来自Bilibili](https://www.bilibili.com/video/BV1dntWe9Eub/)
